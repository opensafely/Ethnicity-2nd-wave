-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /workspace/logs/01c_eth_cr_stset_hes_covid.log
  log type:  text
 opened on:  12 Jan 2021, 10:50:21

. 
. global outcomes "hes onscoviddeath"

. 
. ****************************************************************
. *  Create outcome specific datasets for the whole population  *
. *****************************************************************
. 
. 
. foreach i of global outcomes {
  2.         use ./output/analysis_dataset.dta, clear
  3.         drop if `i'_date <= indexdate 
  4.         stset stime_`i', fail(`i')                              ///     
>         id(patient_id) enter(indexdate) origin(indexdate)
  5.         save ./output/analysis_dataset_STSET_`i'.dta, replace
  6. }       
(0 observations deleted)

                id:  patient_id
     failure event:  hes != 0 & hes < .
obs. time interval:  (stime_hes[_n-1], stime_hes]
 enter on or after:  time indexdate
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time indexdate

------------------------------------------------------------------------------
        795  total observations
          0  exclusions
------------------------------------------------------------------------------
        795  observations remaining, representing
        795  subjects
         94  failures in single-failure-per-subject data
    220,716  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =       282
(note: file ./output/analysis_dataset_STSET_hes.dta not found)
file ./output/analysis_dataset_STSET_hes.dta saved
(0 observations deleted)

                id:  patient_id
     failure event:  onscoviddeath != 0 & onscoviddeath < .
obs. time interval:  (stime_onscoviddeath[_n-1], stime_onscoviddeath]
 enter on or after:  time indexdate
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time indexdate

------------------------------------------------------------------------------
        795  total observations
          0  exclusions
------------------------------------------------------------------------------
        795  observations remaining, representing
        795  subjects
          1  failure in single-failure-per-subject data
    224,181  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =       282
(note: file ./output/analysis_dataset_STSET_onscoviddeath.dta not found)
file ./output/analysis_dataset_STSET_onscoviddeath.dta saved

. 
. 
.         
. * Close log file 
. log close
      name:  <unnamed>
       log:  /workspace/logs/01c_eth_cr_stset_hes_covid.log
  log type:  text
 closed on:  12 Jan 2021, 10:50:21
-------------------------------------------------------------------------------
